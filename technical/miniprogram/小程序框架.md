# 小程序框架

小程序的框架，其实是参考了现代前端框架，核心来讲就是views层框架，实现一个非常简单的数据绑定系统。

> 相对于传统jquery开发，最为繁琐的就是各种dom操作以及处理事件绑定，很容易让代码变得混乱以及难于维护。

框架主要提供如下几部分的能力：

- views 数据绑定机制
- 页面路由以及管理
- 基础组件
- 底层能力api

从运行机制来看，主要分为逻辑层以及试图层，逻辑层与视图层分别是独立的线程

【逻辑层】
逻辑层类似于react-native， 并非运行在webview中，而是运行在底层依赖的js引擎中。

- 小程序以及页面注册
- 页面生命周期
- 页面路由
- 模块化，无法直接使用node_modules, 使用module.exports.xxx，只有app能作为全局共享对象
- api

【视图层】

- wxml 类似html, 处理view 结构以及事件、数据绑定，自带data-set
- wxss 类似css, 处理样式

【运行时】

微信小程序已支持大部分的ES6 API, 开发工具默认会提供babel转译的功能
运行机制，分冷启动、热启动，
更新机制，大部分情况下用户无需关系，最差24小时内下发新版本到用户

【自定义组件】
组件定义与使用、通信与事件、生命周期、behaviors、more

【插件】

【基础能力】

**网络**

- 提供wx.request、wx.uploadFile、wx.downloadFile、wx.connectSocket、wx.createUDOSockert 四种通信能力
- 线上限制，限制必须使用https且域名必须事先配置好
- 开发环境，可以使用ip+端口，但是不能是本机IP
- 并发限制、后台请求事件限制、等

**存储**
提供类似localStorage的存储方案

**文件**

提供文件api进行操作，因历史原因，提供四种文件类型：

- 代码包文件，可读不可写
- 本地临时文件，可读不可写，由特定接口生成，可转化为本地缓存以及本地用户文件
- 本地缓存文件，可读不可写
- 本地用户文件，可读写

**Canvas**

画图，canvas提供了很多可能。。

**Worker**
类似webworker, 但是仍然很多限制。。使用场景需要考虑

【硬件能力】
蓝牙、nfc、wifi，wifi主要提供可以针对指定wifi，传入密码进行链接















